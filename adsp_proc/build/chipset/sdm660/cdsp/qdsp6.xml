<?xml version="1.0"?>
<!DOCTYPE image SYSTEM "weaver-1.0.dtd">
 <!-- This file is manually maintained, it is used as an input file to xmlcreate.pl. -->
 <!-- xmlrecate.pl will compare the memory definition in q6_memory_defns.h with qdsp6_8960.xml -->
 <!--If there is any inconsistency. q6_memory_defns.h has higher priority. -->  
 <!-- Then, qurt config xml will be generated by xmlcreate.pl and it will be used by qurt kernel only -->
<image>
    <machine>

      <Hexagon_ss_base value = "0x1A380000" />
      <!-- <tcxo intmask="0x10000000"/>     commented for merging -->
      <tcxo intmask="0xffffffff"/>
      <timer>
        <base value = "0x1A3A0000" />
        <intno value = "2" />
        <priority value="2" />
        <bitmask value = "0xff" />
        <IST_priority value="1" />
        <IST_bitmask value="0xff" />
      </timer>

      <chicken_bits>
        <rgdr value="0x00000000" />       
        <turkey value="0x00000000" />      
        <duck value="0x00000000" />        
        <chicken value="0x00200000" />    
        
      </chicken_bits>
        <isdb_imem addr="0x1468593C" />
        <etm_cfg_base addr="0x1A590000" />
		<etm_atid value="38" />
		
      <!-- For v4, disable all _*dprefetch -->
      <cache>
        <l1_iprefetch     enabled="true" lines="2"/>
        <l1_dprefetch     enabled="false" lines="0"/>
        <l1_ipartition    main="full"/>
        <l1_dpartition    main="half"/>
        <l1_icache_size   value="16384"/>
        <l1_dcache_size   value="16384"/>
        <l2_iprefetch 	  enabled="true" lines="2"/>
        <l2_dprefetch     enabled="false"/>
        <l2_partition     main="full"/>
        <l2_writeback     enabled="true"/>
        <l2_size          value="full"/>
      </cache>

      <cache_policy name="l1_wb_l2_uncacheable" value="0x0"/>
      <cache_policy name="writethrough" value="0x1"/>
      <cache_policy name="l1_wt_l2_cacheable" value="0x5"/>
      <cache_policy name="l1_wb_l2_cacheable" value="0x7"/> 
      <cache_policy name="uncached" value="0x4"/>
      <cache_policy name="uncache_shared" value="0x6"/>

      <timetest_port value="0x0" />  <!-- check this for CDSP-->
      
      <!-- If the enabled value is set to "true" DMT is enabled -->
      <dynamic_multi_threading enabled="true" />
      
    </machine>

    <kernel>
      <hthread_mask value = "0xFF" />
      <heap_size value = "0X57800"/>
      <max_threads value = "160"/>
      <max_futexes value = "16384"/>  <!--Need to check if it has to be reduced -->     
      <trace_mask value = "0X020007ff"/>
      <trace_size value = "16384" />
      <qurtos_stack_size value = "4096"/>
      <max_threads_in_tcm value = "12"/> <!--Need to check if it can be removed -->
      <page_table_size value = "0xA4000"/> <!--Need to check if it has to be reduced -->
    </kernel>

    <physical_pool name="CDSP_DRIVER_POOL">  
         <region base="0x1A000000" size="0x00800000" />
    </physical_pool>

    <physical_pool name="DEFAULT_PHYSPOOL">
        <region base="0x94800000" size="0x00600000" />
    </physical_pool>

    <physical_pool name="DRIVER_POOL">
        <region base="0x94800000" size="0x00001000" />
        <region base="0x1A000000" size="0x00400000" />
    </physical_pool>    

	
    <physical_pool name="TCM_PHYSPOOL">
        <region base="0x1A400000" size="0x400000" />
    </physical_pool>    
    
    <physical_pool name="cdsp_reg_pool"> <!-- Remove it after Pre sil of CDSP -->
        <region base="0x1A000000" size="0x1000" />
    </physical_pool>


    <physical_pool name="qdsp6ss_reg_pool"> <!--check if it can be removed to CDSP -->
        <region base="0x1A300000" size="0x1000" />
    </physical_pool>

    <physical_pool name="smd_reg_pool"> <!--check if it can be removed to CDSP -->
        <region base="0x1A385000" size="0x1000" />
    </physical_pool>

    <physical_pool name="cdsp_clk_reg_pool"> <!--check if it can be removed to CDSP -->
        <region base="0x1A380000" size="0x8000" />
    </physical_pool>

    <physical_pool name="sirc_reg_pool"> <!--check if it can be removed to CDSP (L2VIC)-->
        <region base="0x1A390000" size="0x10000" />
    </physical_pool>

    <physical_pool name="saw_reg_pool"> <!--check if it can be removed to CDSP (SAW)-->
        <region base="0x1A3B0000" size="0x1000" />
    </physical_pool>

    <!--smem pool    -->
    <physical_pool name="smem_pool">
        <region base="0x86000000" size="0x00200000" />
    </physical_pool>

    <physical_pool name="EBI1_pool">
		<region base="0x00000000" size="0x80000000" />
        <region base="0x80000000" size="0x7FFFF000" />
        <region base="0x100000000" size="0x80000000" />
        <region base="0x180000000" size="0x7FFFF000" />		
    </physical_pool>    

	
	<physical_pool name="HWIO_POOL">  <!-- Remove it after Pre sil of CDSP -->
        <region base="0xFA000000" size="0x1000000" />
        <region base="0xFC300000" size="0x80000" />
    </physical_pool>

	
    <program name="CDSP">

      <stack_size value = "0x2000" />
	  <!-- This HAS TO BE kept the same as in q6_memory_defns.h-->
      <heap_size name="heap_size" value = "0x100000" />
      <main_priority value = "1" />
		<!-- Some of the following sections don't have the physical pool mentioned, so physical = virtual.-->
		<!-- Some sections later in the file have a physical pool mentioned, so, virtual address will be mapped to the mentioned physical pool.-->
		
      <memsection   direct="true" 
                    attach="RW" 
                    physpool="smem_pool"
                    virt_addr="0x86000000"
                    size="1024K"
                    cache_policy="uncached" />
      <memsection   direct="true" 
                    attach="RW" 
                    physpool="smem_pool"
                    virt_addr="0x86100000"
                    size="1024K"
                    cache_policy="uncached" />  
     
   
      <include file="../../core/api/systemdrivers/hwio/sdm660/cdsp/msmhwioplat.xml" />

      <memsection direct="true"
                  tlb_lock = "1"  
                  attach="RW" 
                  virt_addr="0x1A300000"
                  size="1024K"
                  glob = "1"                          
                  cache_policy="uncached" /> 

     <!-- tlb_lock = "1" uncomment and add this line below if want to use ETM -->	
      <memsection direct="true" 
                  tlb_lock = "1"
                  attach="rw"			  
                  virt_addr="0x1A590000" 
                  size="0x00001000" 
                  cache_policy="uncached" />  <!-- ETM_BASE to be update --> 				  
                  
	   <!-- shared IMEM for debug purposes-->
	   <memsection direct="true"
                  attach="rw"
                  virt_addr="0x14680000"
                  size="0x04000"
                  cache_policy="uncached" />
                  
	  <memsection direct="true"  
                  attach="rw" 
                  virt_addr="0x1A5A0000" 
                  size="0x00010000" 
                  cache_policy="uncached" />  <!-- L2 configuration space -->

      <memsection direct="true"  
                  attach="rw" 
                  virt_addr="0x01FE5000" 
                  size="0x00001000" 
                  cache_policy="uncached" />  <!-- Part of TCSR_TCSR_REGS space -->              
                  
      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8000000"  
                  phys_addr="0x1A000000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- Verify the Virtual address for CDSP and update -->    

    
      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8100000" 
                  phys_addr="0x1A100000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- TURING_BASE (Verify the Virtual address for CDSP and update) -->

      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8200000" 
                  phys_addr="0x1A200000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- TURING_BASE (Verify the Virtual address for CDSP and update) -->

      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8300000" 
                  phys_addr="0x1A300000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- TURING_BASE (Verify the Virtual address for CDSP and update) -->  

      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8400000" 
                  phys_addr="0x1A400000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- TURING_BASE (Verify the Virtual address for CDSP and update) -->                  

      <memsection direct="false" 
                  attach="rw" 
                  virt_addr="0xe8500000" 
                  phys_addr="0x1A500000" 
                  size="0x00100000" 
                  cache_policy="uncached" />  <!-- TURING_BASE (Verify the Virtual address for CDSP and update) --> 
				  
    </program>

    <program name="ROOT_660.cdsp.prodQ.pbn">
      <include file="../../core/api/systemdrivers/irqs/sdm660/cdsp/root_interrupts.xml"/>
    <internal_bus_priority enabled ="true"/>
    </program>
 
</image>
